<!--<meta property="og:locale" content="testlocale" />
<meta property="og:type" content="universalModel.ogType" />
<meta property="og:title" content="universalModel.ogTitle" />
<meta property="og:description" content="universalModel.ogDescription" />
<meta property="og:url" content="universalModel.ogUrl" />
<meta property="og:site_name" content="universalModel.ogSite_name" />
<meta property="og:updated_time" content="universalModel.ogUpdatedTime" />
<meta property="og:image" content="https://maprental.azureedge.net/property-pictures/201704151344454207.jpg" />-->

<!--<div id="cover" *ngIf="loading==true"></div>-->
<div class="overlay" *ngIf="loading==true">
  <div class="overlay-loader" *ngIf="loading==true"></div>
</div>
<div class="propertyListTopSec hidden-sm hidden-md hidden-lg">
  <a href="/" class="pull-left backToListButton">
    <button class="backToList btn btn-default">
      <i class="glyphicon glyphicon-menu-left gi-3x"></i> Results
    </button>
  </a>
  <a pageScroll href="{{currentRouteURL}}#contactSection" class="pull-left goToContactButton">
    <button class="btn-pad-override btn btn-orange">Contact
    </button>
  </a>
</div>

<section class='mrgT5 mrg0-xs' >
    <div class="container" *ngIf="(property.IsActive == false && isAbleToEdit == false)">
      <h4>Oops, this listing is already rented!</h4>
      <a class="btn btn-default" href="/">Click here to see more great rentals</a>
    </div>
    <div class="container" *ngIf="isPropertyFound == false">
      <h4>Oops, No rentals found!</h4>
      <a class="btn btn-default" href="/">Click here to see more great rentals</a>
    </div>
    <div *ngIf="propertyId && isPropertyFound == true">
      <div class="container" *ngIf="((property.IsActive == true) || (property.IsActive == false && isAbleToEdit == true))">
          <div *ngIf="_fail_msg != '' || _success_msg != ''" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pad0">
              <p *ngIf="_success_msg != ''" ng-bind="_success_msg" class="{{_success_msg != '' ? 'mrgT10': ''}} {{property.IsActive == false ? 'text-danger': 'text-success'}}  clearfix col-xs-12  col-sm-12 pad0 mrgT0">{{_success_msg}}</p>
              <p *ngIf="_fail_msg != ''" ng-bind="_fail_msg" class="{{_fail_msg != '' ? 'mrgT10': ''}} text-danger clearfix col-xs-12 col-sm-12 pad0 mrgT0">{{_fail_msg}}</p>
          </div>
          <div id="propertyDetail">
              <div class="row item-block">
                  <div class="col-xs-12 col-sm-12 col-md-7 pad5-xs">
                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                            <div class="hidden-xs col-xs-6 col-sm-7 col-md-7 col-lg-8 pad0 clearfix">
                              <a href="/" class="pull-left">
                                <button class="backToList btn-pad-override btn btn-default">
                                  <i class="glyphicon glyphicon-menu-left"></i> Return to Map
                                </button>
                              </a> 
                            </div> 
                            <div *ngIf="isAbleToEdit == true" class="col-xs-6 col-sm-2 col-md-2 col-lg-2 pad0 mrgT5">
                              <label class="toggle col-sm-12 pad0">
                                  <input #isActiveToggle *ngIf="property.IsActive == true" type="checkbox" (click)="activeDeactiveProperty(property)" checked="">

                                  <input *ngIf="property.IsActive == false" #isActiveToggle type="checkbox" (click)="activeDeactiveProperty(property)">

                                  <span class="handle">
                                      <span *ngIf="property.IsActive == false" class="toggleValue">Inactive</span>
                                      <span *ngIf="property.IsActive == true" class="toggleValue Active">Active</span>
                                  </span>
                              </label>
                            </div>
                            <div class="col-xs-6 col-sm-2 col-md-2 col-lg-2 pad0 clearfix">
                              <span *ngIf="isAbleToEdit == true" class='pad0'>
                                <a href='/manageProperty/{{property.Id}}' target='_self'><button class='btn btn-default btn-pad-override editBtnLink'>Edit</button></a>
                              </span>
                            </div>
                          </div>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <span>{{property.Address}}</span>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <!--<hr class="lightgray">-->
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0 mrgT2 mapPictureTab">
                        <div #Tabs id="Tabs" class="">
                          <span>
                            <button type="button" class="btn btn-primary" id="tabPic" #tabPic class="{{tabActive == 'tabPic' ? 'active' : ''}}" (click)="changeTab($event, 'tabPic');"> Picture </button>
                          </span>
                          <span>
                            <button type="button" class="btn btn-primary" id="tabMap" #tabMap class="{{tabActive == 'tabMap' ? 'active' : ''}}" (click)="changeTab($event, 'tabMap');"> Map </button>
                          </span>
                        </div>
                        <div *ngIf="tabActive == 'tabPic'" class="col-xs-12 col-sm-12 col-md-12 pad0">
                            <!--<div id="property-slider" class="carousel slide" data-ride="carousel">
                              <carousel [interval]="NextPhotoInterval" [noWrap]="noLoopSlides">
                                <slide *ngFor="let slidez of propertyPictures; let index=index" [active]="slidez.active">
                                    <img [src]="slidez.Url">
                                </slide>
                              </carousel>
                              
                            </div>-->
                            <!--<div class="row">-->
                              <div id="property-slider" class="col-md-12 pad0">
                                <carousel [interval]="NextPhotoInterval" [noWrap]="noLoopSlides">
                                  <slide *ngFor="let slidez of propertyPictures; let index=index"
                                          [active]="slidez.active">
                                    <img [src]="slidez.Url" style="margin:auto;">
                                  </slide>
                                </carousel>
                              </div>
                            <!--</div>-->
                        </div>
                        <div *ngIf="tabActive == 'tabMap'" class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <div class="col-xs-12 col-sm-12 col-md-12 pad0" id="propertyDetailMapDiv">
                              <sebm-google-map [latitude]="latitude" [longitude]="longitude" [scrollwheel]="true" [zoom]="11" #googleMap
                              [zoomControl]="true">
                                  <sebm-google-map-marker [latitude]="latitude" [longitude]="longitude"
                                  [markerDraggable]="true"
                                  >
                                  </sebm-google-map-marker>
                              </sebm-google-map>   
                            </div>
                        </div>
                      </div> 

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0 mrgT5">
                        <h3 class="price text-blue pull-left"><b>${{property.MonthlyRent}}/mth</b></h3>
                        <h3 class="price text-blue pull-right">
                         <b *ngIf="property.PropertyType != 'Room'">{{property.PropertyType}}</b>
                         <b *ngIf="property.PropertyType == 'Room'">Room Rental</b>
                        </h3>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                        <h4 class="title-3 pull-left">
                          <span>{{agreementTermLength}}</span>
                        </h4>
                        <h4 class="title-3 pull-right">
                          <span *ngIf="property.IsImmediateAvailable == true">Available Now</span>
                          <span *ngIf="property.IsImmediateAvailable == false">{{availableDateText}}</span>
                        </h4>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <hr class="lightgray">
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0 tooltip-top">
                        <div *ngIf="property.PropertyType != 'Room'" class="col-xs-2 col-sm-2 col-md-2 prop-fac-div padL0" data-toggle="tooltip" data-placement="top" title="Bed">
                          <span *ngIf="property.Bed != 'Studio'" class="pad0 title-2"><b>{{property.Bed}}</b></span>
                          <span *ngIf="property.Bed == 'Studio'" class="pad0 title-2"><b>S</b></span>
                          <img class="cursor-pointer img-responsive" src="assets/public/img/icons/bed.png">
                        </div>

                        <div class="col-xs-2 col-sm-2 col-md-2 prop-fac-div padL0" data-toggle="tooltip" data-placement="top" title="Baths" *ngIf="property.Bath != ''">
                          <span class="pad0 title-2"><b>{{property.Bath}}</b></span>
                          <img class="cursor-pointer img-responsive" src="assets/public/img/icons/bath.png">
                        </div>

                        <div class="prop-fac-div pad0" [ngClass]="{'col-xs-2 col-sm-2 col-md-2': (property.Pet.length == 1 && (property.Pet.indexOf('Any') >= 0 || property.Pet.indexOf('No') >= 0)), 'col-xs-4 col-sm-4 col-md-4': (property.Pet.length == 2 || ((property.Pet.length == 1 && property.Pet.indexOf('Cats') >= 0 || property.Pet.indexOf('Dogs') >= 0)))}" data-toggle="tooltip" data-placement="top" title="Pets" *ngIf="property.Pet.length > 0">
                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="property.Pet.indexOf('No') >= 0">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/nopets.png">
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="property.Pet.indexOf('Any') >= 0">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/anypets.png">
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="(property.Pet.length == 1 && property.Pet.indexOf('Cats') >= 0) || (property.Pet.length == 2)">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/cat.png">
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="(property.Pet.length == 1 &&   property.Pet.indexOf('Dogs') >= 0) || (property.Pet.length == 2)">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/dog.png">
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="property.Pet.length == 1 &&   property.Pet.indexOf('Cats') >= 0">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/nodog.png">
                          </div>

                          <div class="col-xs-6 col-sm-6 col-md-6 pad0" *ngIf="property.Pet.length == 1 &&   property.Pet.indexOf('Dogs') >= 0">
                            <img class="cursor-pointer img-responsive" src="assets/public/img/icons/nocat.png">
                          </div>
                        </div>

                        <div class="col-xs-2 col-sm-2 col-md-2 prop-fac-div padL0" *ngIf="property.Smoking != null" data-toggle="tooltip" data-placement="top" title="Smoking">
                          <img *ngIf="property.Smoking == true" class="cursor-pointer img-responsive" src="assets/public/img/icons/smoking.png">
                          <img *ngIf="property.Smoking == false" class="cursor-pointer img-responsive" src="assets/public/img/icons/nosmoking.png">
                        </div>

                        <div class="col-xs-2 col-sm-2 col-md-2 prop-fac-div padL0" data-toggle="tooltip" data-placement="top" title="Parking" *ngIf="property.Parking != ''">
                          <img  *ngIf="property.Parking == 'None'" class="cursor-pointer img-responsive" src="assets/public/img/icons/nopark.png">
                          <img  *ngIf="property.Parking != 'None'" class="cursor-pointer img-responsive" src="assets/public/img/icons/park.png">
                        </div>

                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <hr class="lightgray">
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <h4 class="text-blue"><b>{{property.Title}}</b></h4>
                          <p class="pad0 title-4" style="color: #9a9a9a">
                            {{dateCreatedText}}
                          </p>
                          <p class="col-xs-12 col-sm-12 col-md-12 pad0 title-4 property-description">
                          </p>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0 mrgT10 text-center">
                          <span class="col-sm-12 text-center pad0">
                              <b>{{property.Views}}  Views</b>
                          </span>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <hr class="lightgray">
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <div class="prop-rent-include-div col-xs-12 col-sm-12 pad0 tooltip-top"> 
                              <span class="col-xs-3 col-sm-2 pad0 mrgT10 mrg0-xs">    <b>Rent Includes: </b>
                              </span>
                              <span class="col-xs-9 col-sm-10 pad0">
                                <img *ngIf="property.RentInclude.indexOf('Heat') >= 0" data-toggle="tooltip" data-placement="top" title="Heat" class="cursor-pointer img-responsive" src="assets/public/img/icons/flame.png">

                                <img *ngIf="property.RentInclude.indexOf('Electricity') >= 0" data-toggle="tooltip" data-placement="top" title="Electricity" class="cursor-pointer img-responsive" src="assets/public/img/icons/electric.png">

                                <img *ngIf="property.RentInclude.indexOf('Water') >= 0" data-toggle="tooltip" data-placement="top" title="Water" class="cursor-pointer img-responsive" src="assets/public/img/icons/water.png">

                                <img *ngIf="property.RentInclude.indexOf('Cable') >= 0" data-toggle="tooltip" data-placement="top" title="Cable" class="cursor-pointer img-responsive" src="assets/public/img/icons/tv.png">

                                <img *ngIf="property.RentInclude.indexOf('Internet') >= 0" data-toggle="tooltip" data-placement="top" title="Internet" class="cursor-pointer img-responsive" src="assets/public/img/icons/wifi.png">

                                <img *ngIf="property.RentInclude.indexOf('Parking') >= 0" data-toggle="tooltip" data-placement="top" title="Parking" class="cursor-pointer img-responsive" src="assets/public/img/icons/parking.png">

                              </span>
                          </div>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                          <hr class="lightgray">
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                        <span class="col-xs-3 col-sm-2 pad0">
                            <b>Amenities: </b>
                        </span>
                        <span class="col-sm-10 col-xs-9">
                            <span *ngFor="let ame of property.Amenities" class="badge">{{ame}}</span> 
                        </span>
                      </div>

                      <div class="col-xs-12 col-sm-12 col-md-12 pad0">
                        <hr class="lightgray">
                      </div>

                  </div>
                  <div class="col-xs-1 col-sm-1 col-md-1">
                  </div>
                  <div *ngIf="property.Email != null || property.Phone != null" class="col-xs-12 col-sm-12 col-md-4 pad10-xs" id="contactSection">

                      <!--<p ng-bind="email_success_msg" class="{{email_success_msg != '' ? 'mrgT10': ''}} text-success clearfix">{{email_success_msg}}</p>
                      <p ng-bind="email_fail_msg" class="{{email_fail_msg != '' ? 'mrgT10': ''}} text-danger clearfix">{{email_fail_msg}}</p>-->
                      <fieldset class="scheduler-border">
                        <legend class="scheduler-border">
                           Contact
                           <div id="fb-share-button-mobile" class="pull-right mrgL10 fb-share-button mrgB5" data-href="" data-mobile-iframe="true">

                            <share-buttons 
                              [title]="fbShareTitle"
                              [url]="'MAPRENTALS.CA'"
                              [image]="fbShareImage"
                               [twitter]=false
                               [google]=false
                               [pinterest]=false
                               [linkedIn]=false
                               [tumblr]=false
                               [reddit]=false
                               [stumbleUpOn]=false
                               [whatsApp]=false
                               [description]="fbShareDescription" 
                               [tags]="'tags'"
                              ></share-buttons>
                          </div>
                        </legend>
                      </fieldset>
                      <form class="form-horizontal" #propertyDetailMailForm="ngForm" novalidate (ngSubmit)="sendEmail($event, propertyDetailMailForm.value, propertyDetailMailForm.valid)" class="form-horizontal">
                            
                            <div class="form-group" *ngIf="property.OwnerName != '' && property.OwnerName != null">
                               <div class="col-xs-6 col-sm-5 col-md-5"><label for="">Name: </label></div>
                               <div class="col-xs-6 col-sm-7 col-md-7">{{property.OwnerName}}</div>
                            </div>
                            <div class="form-group" *ngIf="currentPropertyCompany">
                               <div class="col-xs-6 col-sm-5 col-md-5"><label for="">Company: </label></div>
                               <div class="col-xs-6 col-sm-7 col-md-7">{{currentPropertyCompany}}</div>
                            </div>
                            <div class="form-group" *ngIf="property.LandlordType != '' && property.LandlordType != null">
                               <div class="col-xs-6 col-sm-5 col-md-5"><label for="">Landlord Type: </label></div>
                               <div class="col-xs-6 col-sm-7 col-md-7">{{property.LandlordType}}</div>
                            </div>
                            <div class="form-group" *ngIf="property.Phone != '' && property.Phone != null && property.IsEmailOnly == false">
                               <div class="col-xs-6 col-sm-5 col-md-5"><label for="">Phone:</label></div>
                               <div class="col-xs-6 col-sm-7 col-md-7"> 
                                <span class='hidden-xs'>{{commonAppService.getFormattedPhoneNumber( property.Phone)}}</span>
                                <a class='hidden-sm hidden-md hidden-lg btn btn-success btn-green' href="tel:{{property.Phone}}"><i class="glyphicon glyphicon-earphone"></i> {{commonAppService.getFormattedPhoneNumber( property.Phone)}}</a>
                                <!-- <a class='hidden-sm hidden-md hidden-lg' href="tel:{{property.Phone}}">{{commonAppService.getFormattedPhoneNumber( property.Phone)}}  <i class=" text-success glyphicon glyphicon-earphone"></i></a> -->
                               </div>
                            </div>
                            <div class="form-group" *ngIf="property.Phone != '' && property.IsEmailOnly == false && property.IsPhoneOnly == true">
                               <div class="col-xs-12 col-sm-12 col-md-12 text-center">
                                  <b>PHONE CALLS ONLY!</b>
                                </div>
                            </div>
                            <div *ngIf="property.Email != '' && property.IsPhoneOnly == false">
                              <div class="form-group col-sm-12">
                                <input type="email" class="form-control" name="Name" [ngModel]="emailUser.Name" #Name="ngModel"  placeholder="Name">
                              </div>
                            
                              <div class="form-group col-sm-12">
                                <input type="email" class="form-control" name="From" [ngModel]="emailUser.From" required #From="ngModel"  placeholder="Email" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$">
                                <small [hidden]="From.valid || (From.pristine && !propertyDetailMailForm.submitted)" class="text-danger">
                                  Email is required and format should be john@doe.com.
                                </small>
                              </div>

                              <div class="form-group col-sm-12">
                                <input type="text" class="form-control" name="Contact" [ngModel]="emailUser.Contact" #Contact="ngModel"  placeholder="Phone">
                              </div>

                              <div class="form-group col-sm-12">
                                <textarea class="form-control" id="message" name="Body" [ngModel]="emailUser.Body" required #Body="ngModel"  placeholder="Message"></textarea>

                                <small [hidden]="Body.valid || (Body.pristine && !propertyDetailMailForm.submitted)" class="text-danger">
                                  Message is required.
                                </small>
                              </div>
                              
                              <div class="form-group col-sm-12 pad0 mrgB5">
                                 <div class="col-sm-12"><button type="submit" class="col-xs-12 col-sm-12 col-md-12 btn btn-primary pad15 fs20" id="btnSendMail"> Send </button></div>
                              </div>
                            </div>  
                         
                      </form>
                  </div>
              </div>
          </div>
        </div>
    </div>
</section>

<div class="modal fade" tabindex="-1" [ngClass]="{'in': visibleAnimate}"
       [ngStyle]="{'display': visible ? 'block' : 'none', 'opacity': visibleAnimate ? 1 : 0}">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header clearfix">
                <div class="col-sm-12 pad0">
                    <button type="button" (click)="hideModal()" class="close"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </div>
            </div>
            <div class="modal-body clearfix">
                <div class="app-modal-body">
                    <div>
                        <p ng-bind="email_success_msg" class="{{email_success_msg != '' ? 'mrgT10': ''}} text-success clearfix">{{email_success_msg}}</p>
                        <p ng-bind="email_fail_msg" class="{{email_fail_msg != '' ? 'mrgT10': ''}} text-danger clearfix">{{email_fail_msg}}</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" (click)="hideModal()">Ok</button>
            </div>
        </div>
    </div>
</div>